<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FKR Adoption Checklist</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-shell">
    <header>
      <h1>FKR Adoption Checklist</h1>
      <p>Tap one question at a time.</p>
    </header>

    <main>
      <div class="card">

        <!-- Start over + Jump to -->
        <div class="step-jump-row">
          <button class="outline" onclick="goTo('start', true)">Start over</button>
          <select id="step-jump" onchange="jumpToStep(this.value)">
            <option value="">Jump to stepâ€¦</option>
            <!-- Options are populated by script.js using orderedStepIds + step titles -->
          </select>
        </div>

        <!-- Progress bar -->
        <div class="progress">
          <div id="progress-label">Step 1</div>
          <div class="progress-bar-wrap">
            <div id="progress-bar" class="progress-bar"></div>
          </div>
        </div>

        <!-- START -->
        <div class="step active" data-step-id="start">
          <div class="pill"><span class="dot"></span><span>Start</span></div>
          <div class="step-title">What type of interaction is this?</div>
          <div class="step-subtitle">Choose one to begin.</div>
          <div class="btn-row">
            <!-- Neutral choices: white with green border -->
            <button class="neutral" onclick="setInteraction('appointment')">Scheduled appointment</button>
            <button class="neutral" onclick="setInteraction('walkin')">Walk in</button>
            <button class="outline" onclick="showHelp('start')">Show me how</button>
          </div>
        </div>

        <!-- APPOINTMENT PREP -->
        <div class="step" data-step-id="prep_appointment">
          <div class="pill"><span class="dot"></span><span>Before meet and greet</span></div>
          <div class="step-title">Appointment prep</div>
          <div class="step-subtitle">Confirm both are done.</div>
          <ul class="checklist">
            <li>Consultation form reviewed</li>
            <li>PetPoint checked for Do Not Adopt</li>
          </ul>
          <div class="btn-row">
            <button class="primary" onclick="goTo('meet')">Yes - both done</button>
            <button class="secondary" onclick="alert('Complete the items, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('prep_appointment')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- WALK IN PREP -->
        <div class="step" data-step-id="prep_walkin">
          <div class="pill"><span class="dot"></span><span>Before meet and greet</span></div>
          <div class="step-title">Walk in prep</div>
          <div class="step-subtitle">Complete these first.</div>
          <ul class="checklist">
            <li>Consultation form completed</li>
            <li>PetPoint checked for Do Not Adopt</li>
          </ul>
          <div class="btn-row">
            <button class="primary" onclick="goTo('meet')">Yes - both done</button>
            <button class="secondary" onclick="alert('Complete the items, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('prep_walkin')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- MEET AND GREET -->
        <div class="step" data-step-id="meet">
          <div class="pill"><span class="dot"></span><span>Meet and greet</span></div>
          <div class="step-title">Any concerning behavior?</div>
          <div class="step-subtitle">Watch how the adopter interacts with the cat.</div>
          <div class="btn-row">
            <!-- Positive = green, concern = red border -->
            <button class="primary" onclick="goTo('decision')">No - everything looks appropriate</button>
            <button class="secondary" onclick="goTo('stop_staff')">Yes - concern exists</button>
            <button class="outline" onclick="showHelp('meet')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- DECISION -->
        <div class="step" data-step-id="decision">
          <div class="pill"><span class="dot"></span><span>Decision</span></div>
          <div class="step-title">Did they choose a cat today?</div>
          <div class="step-subtitle">Pick Yes if a cat is going home today.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('adopt_main_create_person')">Yes - proceeding with adoption</button>
            <button class="secondary" onclick="goTo('no_adopt_create_person')">No - no adoption today</button>
            <button class="outline" onclick="showHelp('decision')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- CREATE PERSON (for adoption path) -->
        <div class="step" data-step-id="adopt_main_create_person">
          <div class="pill"><span class="dot"></span><span>Adoption</span></div>
          <div class="step-title">Does the adopter already have a Person record?</div>
          <div class="step-subtitle">Create the Person if they do not already exist in PetPoint.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('adopt_main_1')">Yes - Person exists</button>
            <button class="secondary" onclick="goTo('create_person')">No - need to create Person</button>
            <button class="outline" onclick="showHelp('adopt_main_create_person')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- CREATE PERSON (for no adoption path) -->
        <div class="step" data-step-id="no_adopt_create_person">
          <div class="pill"><span class="dot"></span><span>No adoption</span></div>
          <div class="step-title">Does the visitor already have a Person record?</div>
          <div class="step-subtitle">Create the Person if they do not already exist so you can add notes and upload the consultation form.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('no_adopt')">Yes - Person exists</button>
            <button class="secondary" onclick="goTo('create_person')">No - need to create Person</button>
            <button class="outline" onclick="showHelp('no_adopt_create_person')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- CREATE PERSON (shared) -->
        <div class="step" data-step-id="create_person">
          <div class="pill"><span class="dot"></span><span>Person</span></div>
          <div class="step-title">Create Person record</div>
          <div class="step-subtitle">
            Search by name, email, and phone first to avoid duplicates. If no record exists, create a new Person with full contact info.
          </div>
          <div class="btn-row">
            <button class="primary" onclick="goToFromCreatePerson()">Person created / confirmed</button>
            <button class="secondary" onclick="alert('Finish creating the Person with current contact info, then tap Person created / confirmed')">Still working</button>
            <button class="outline" onclick="showHelp('create_person')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- ADOPTION MAIN PART 1 -->
        <div class="step" data-step-id="adopt_main_1">
          <div class="pill"><span class="dot"></span><span>Adoption</span></div>
          <div class="step-title">Is the adopter in PetPoint and is contact info verified?</div>
          <div class="step-subtitle">Confirm the Person record is correct before you continue.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('adopt_main_2')">Yes - continue</button>
            <button class="secondary" onclick="alert('Make sure the Person record exists and contact info is current, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('adopt_main_1')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- ADOPTION MAIN PART 2 -->
        <div class="step" data-step-id="adopt_main_2">
          <div class="pill"><span class="dot"></span><span>Adoption</span></div>
          <div class="step-title">Has Outcome to Adoption been started?</div>
          <div class="step-subtitle">The Person record should show an active Adoption outcome.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('adopt_main_3')">Yes - continue</button>
            <button class="secondary" onclick="alert('Open the Person record, start an Outcome, and choose Adoption, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('adopt_main_2')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- ADOPTION MAIN PART 3 (vouchers) -->
        <div class="step" data-step-id="adopt_main_3">
          <div class="pill"><span class="dot"></span><span>Adoption</span></div>
          <div class="step-title">Have vouchers been created for each cat?</div>
          <div class="step-subtitle">
            Each cat should have the correct voucher recorded. Use the multi-cat example if more than one cat is being adopted.
          </div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('adopt_main_4')">Yes - continue</button>
            <button class="secondary" onclick="alert('Create the voucher for each cat on the adoption, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('adopt_main_3')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- ADOPTION MAIN PART 4 -->
        <div class="step" data-step-id="adopt_main_4">
          <div class="pill"><span class="dot"></span><span>Adoption</span></div>
          <div class="step-title">Is microchip consent and Petco choice completed?</div>
          <div class="step-subtitle">Make sure the adopter understands and has chosen an option.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('adopt_main_5')">Yes - continue</button>
            <button class="secondary" onclick="alert('Review microchip consent and Petco option with the adopter, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('adopt_main_4')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- ADOPTION MAIN PART 5 -->
        <div class="step" data-step-id="adopt_main_5">
          <div class="pill"><span class="dot"></span><span>Adoption</span></div>
          <div class="step-title">Have folder ADA forms been reviewed and signed?</div>
          <div class="step-subtitle">
            All required ADA pages in the red folder should be signed.
          </div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('adopt_main_6')">Yes - continue</button>
            <button class="secondary" onclick="alert('Go through each ADA in the red folder, collect signatures, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('adopt_main_5')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- ADOPTION MAIN PART 6 (contract) -->
        <div class="step" data-step-id="adopt_main_6">
          <div class="pill"><span class="dot"></span><span>Adoption</span></div>
          <div class="step-title">Has the contract been signed and emailed?</div>
          <div class="step-subtitle">
            The adopter should have a copy of the signed contract.<br /><br />
            <strong>Multi-cat?</strong> Generate a separate contract and obtain signatures for <span class="highlight">each cat</span> on the adoption.
          </div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('adopt_main_7')">Yes - continue</button>
            <button class="secondary" onclick="alert('Have the adopter sign the contract and email them a copy, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('adopt_main_6')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- ADOPTION MAIN PART 7 (payment) -->
        <div class="step" data-step-id="adopt_main_7">
          <div class="pill"><span class="dot"></span><span>Adoption</span></div>
          <div class="step-title">Is the payment slip completed and payment processed?</div>
          <div class="step-subtitle">
            Payment should be collected and recorded correctly. Use the multi-cat receipt example if more than one cat is on this outcome.
          </div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('adopt_after')">Yes - continue</button>
            <button class="secondary" onclick="alert('Complete the payment slip, collect payment, and enter it in the system, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('adopt_main_7')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- ADOPTION AFTERCARE -->
        <div class="step" data-step-id="adopt_after">
          <div class="pill"><span class="dot"></span><span>Sending kitty home</span></div>
          <div class="step-title">Final checks before leaving</div>
          <ul class="checklist">
            <li>Adoption bag given</li>
            <li>Litter sample if available</li>
            <li>Kitten weight recorded</li>
            <li>Microchip verified before carrier</li>
            <li>Kennel card or photo offered for adults</li>
          </ul>
          <div class="btn-row">
            <button class="primary" onclick="goTo('after_leave')">Adopter has left</button>
            <button class="secondary" onclick="alert('Finish these items, then tap Adopter has left')">Still working</button>
            <button class="outline" onclick="showHelp('adopt_after')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- AFTER LEAVE - ADOPTER MEMO -->
        <div class="step" data-step-id="after_leave">
          <div class="pill"><span class="dot"></span><span>After adopter leaves</span></div>
          <div class="step-title">Has the adopter memo been completed?</div>
          <div class="step-subtitle">Add an Adoption Outcome memo on the person record.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('after_memo_cat')">Yes - continue</button>
            <button class="secondary" onclick="alert('Open the person record and add the adopter memo, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('after_leave')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- CAT MEMO -->
        <div class="step" data-step-id="after_memo_cat">
          <div class="pill"><span class="dot"></span><span>After adopter leaves</span></div>
          <div class="step-title">Has the cat outcome memo been completed?</div>
          <div class="step-subtitle">Add a short outcome memo on the pet record.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('after_association')">Yes - continue</button>
            <button class="secondary" onclick="alert('Open the pet record and add the outcome memo, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('after_memo_cat')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- ASSOCIATION -->
        <div class="step" data-step-id="after_association">
          <div class="pill"><span class="dot"></span><span>After adopter leaves</span></div>
          <div class="step-title">Has the association been updated?</div>
          <div class="step-subtitle">Change the person association to Adopter with correct subtype.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('after_upload_ada')">Yes - continue</button>
            <button class="secondary" onclick="alert('Update the association on the person record, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('after_association')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- UPLOAD ADA -->
        <div class="step" data-step-id="after_upload_ada">
          <div class="pill"><span class="dot"></span><span>After adopter leaves</span></div>
          <div class="step-title">Have ADA forms been uploaded to the cat record?</div>
          <div class="step-subtitle">
            Scan and upload all signed ADA pages to the animal record.
            <ol>
              <li>
                Scanned file in Downloads folder:
                <span class="highlight">"Adoption Disclosure Agreement - kitty name"</span>
              </li>
              <li>
                On each cat's record, go to Memo/Files to upload the file:
                <ul>
                  <li>For the file Name, use <span class="highlight">"Signed Kitten ADA -kitty name"</span> and/or <span class="highlight">"Signed Medical ADA -kitty name"</span> as appropriate.</li>
                  <li>Set Type to <span class="highlight">"Adoption Document"</span> and Subtype to <span class="highlight">"Adoption Disclosure Agreement - ADA."</span></li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('after_upload_consult')">Yes - continue</button>
            <button class="secondary" onclick="alert('Upload the ADA forms to the cat record, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('after_upload_ada')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- UPLOAD CONSULT -->
        <div class="step" data-step-id="after_upload_consult">
          <div class="pill"><span class="dot"></span><span>After adopter leaves</span></div>
          <div class="step-title">Has the consultation form been uploaded?</div>
          <div class="step-subtitle">
            <ol>
              <li>Scan consultation form into Downloads folder <span class="highlight">"Consultation Form -Adopter's Name"</span>.</li>
              <li>On the Person, go to Memo/Files to upload the form as a file.</li>
            </ol>
          </div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('after_receipt')">Yes - continue</button>
            <button class="secondary" onclick="alert('Upload the consultation form to the person record, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('after_upload_consult')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- RECEIPT -->
        <div class="step" data-step-id="after_receipt">
          <div class="pill"><span class="dot"></span><span>After adopter leaves</span></div>
          <div class="step-title">Has the receipt been entered in PetPoint?</div>
          <div class="step-subtitle">
            <p><strong>Enter the receipt:</strong></p>
            <ol>
              <li>From the person record, use the green plus menu to create a new <strong>Receipt</strong>.</li>
              <li>On the Receipt - New screen, set the cash drawer and reference as your group uses them.</li>
              <li>Add the adoption item based on age and link the correct cat.</li>
              <li>When you click Pay, fill out the payment panel. Select Cash as the type if that is your standard, even when using Square, and note card details in the reference.</li>
            </ol>
          </div>
          <div class="btn-row">
            <button class="primary" onclick="goToAfterReceiptNext()">Yes - continue</button>
            <button class="secondary" onclick="alert('Enter the receipt in PetPoint and confirm totals, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('after_receipt')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- CALENDAR -->
        <div class="step" data-step-id="after_calendar">
          <div class="pill"><span class="dot"></span><span>After adopter leaves</span></div>
          <div class="step-title">Has the calendar been updated?</div>
          <div class="step-subtitle">Close or update the appointment with correct notes or outcome.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('after_photo')">Yes - continue</button>
            <button class="secondary" onclick="alert('Update the calendar entry for this appointment, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('after_calendar')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- PHOTO -->
        <div class="step" data-step-id="after_photo">
          <div class="pill"><span class="dot"></span><span>After adopter leaves</span></div>
          <div class="step-title">Has the photo been texted to Kim?</div>
          <div class="step-subtitle">Send the approved adoption photo for social media or records.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('after_email')">Yes - continue</button>
            <button class="secondary" onclick="alert('Text the photo to Kim, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('after_photo')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- EMAIL -->
        <div class="step" data-step-id="after_email">
          <div class="pill"><span class="dot"></span><span>After adopter leaves</span></div>
          <div class="step-title">Has the Outlook follow up email been sent?</div>
          <div class="step-subtitle">
            Send the Outlook Adoption Email: BCC <span class="highlight">Adoption Notification</span>, subject is cat name(s), and message notes cats adopted, PP done, photo sent, and counselor names.
          </div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('after_whiteboard')">Yes - continue</button>
            <button class="secondary" onclick="alert('Send the Outlook email to the adopter, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('after_email')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- WHITEBOARDS -->
        <div class="step" data-step-id="after_whiteboard">
          <div class="pill"><span class="dot"></span><span>After adopter leaves</span></div>
          <div class="step-title">Have whiteboards been updated?</div>
          <div class="step-subtitle">Update any room or lobby boards that track cats and adoptions.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('done')">Yes - all wrap up tasks done</button>
            <button class="secondary" onclick="alert('Update the whiteboards and any visual trackers, then tap Yes')">Not yet</button>
            <button class="outline" onclick="showHelp('after_whiteboard')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- NO ADOPTION -->
        <div class="step" data-step-id="no_adopt">
          <div class="pill"><span class="dot"></span><span>No adoption</span></div>
          <div class="step-title">Wrap up - no adoption</div>
          <ul class="checklist">
            <li>Add Future adopt - needs discussion memo if needed</li>
            <li>Upload consultation form to person record</li>
            <li>Update calendar with correct reason</li>
          </ul>
          <div class="btn-row">
            <button class="primary" onclick="goTo('done')">All done</button>
            <button class="secondary" onclick="alert('Finish these items, then tap All done')">Still working</button>
            <button class="outline" onclick="showHelp('no_adopt')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- STOP STAFF -->
        <div class="step" data-step-id="stop_staff">
          <div class="pill"><span class="dot"></span><span>Pause</span></div>
          <div class="step-title">Stop and notify staff</div>
          <div class="step-subtitle">Step out of the room and talk to staff before continuing.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('start', true)">Situation resolved - restart</button>
            <button class="secondary" onclick="alert('Do not continue until you have spoken with staff')">Not yet</button>
            <button class="outline" onclick="showHelp('stop_staff')">Show me how</button>
            <button class="outline" onclick="goBack()">Back</button>
          </div>
        </div>

        <!-- DONE -->
        <div class="step" data-step-id="done">
          <div class="pill"><span class="dot"></span><span>Complete</span></div>
          <div class="step-title">Checklist complete</div>
          <div class="step-subtitle">You are done with this case. Tap below to start over.</div>
          <div class="btn-row">
            <button class="primary" onclick="goTo('start', true)">Start again</button>
            <button class="outline" onclick="showHelp('done')">Show me how</button>
          </div>
        </div>

      </div>
    </main>

    <footer>
      FKR - no data stored
    </footer>
  </div>

  <!-- Help overlay -->
  <div id="help-overlay" class="help-overlay" aria-hidden="true">
    <div class="help-card" id="help-card">
      <div class="help-title" id="help-title">Step help</div>
      <div class="help-text" id="help-text">Details for this step will appear here.</div>
      <div class="help-close-row">
        <button class="outline" id="help-back-btn" style="display:none;" onclick="backToMainHelp()">Back</button>
        <button class="outline" onclick="hideHelp()">Close</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
